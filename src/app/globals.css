@import "tailwindcss";

/* ===================== */
/* 🎨 主题变量 */
/* ===================== */
:root {
  --background: #111418;
  --foreground: #e8e8e8;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

/* ===================== */
/* 🔤 字体加载 */
/* ===================== */
/* 英文字母像素字体（Press Start 2P） */
@font-face {
  font-family: "PressStart2P";
  src: url("/fonts/PressStart2P-Regular.ttf") format("truetype");
  font-weight: normal;
  font-style: normal;
  unicode-range: U+0000-007F;
  font-display: swap;
}

/* 中文像素字体（Zpix） */
@font-face {
  font-family: "Zpix";
  src: url("/fonts/zpix.ttf") format("truetype");
  font-weight: normal;
  font-style: normal;
  unicode-range: U+4E00-9FFF;
  font-display: swap;
}

/* Retro font stack: Latin uses Press Start 2P; CJK falls back to Zpix */
.font-retro {
  font-family: "PressStart2P", "Zpix", var(--font-geist-sans), Arial, sans-serif;
}

/* ===================== */
/* 🌙 暗色模式默认 */
/* ===================== */
@media (prefers-color-scheme: dark) {
  :root {
    --background: #0e1116;
    --foreground: #f0f0f0;
  }
}

/* ===================== */
/* 📺 背景与 CRT 扫描线 */
/* ===================== */
body {
  background: radial-gradient(
      1200px 600px at 50% -10%,
      rgba(255, 255, 255, 0.04),
      transparent 60%
    ),
    linear-gradient(180deg, rgba(255, 255, 255, 0.02), rgba(0, 0, 0, 0.1)),
    var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
  min-height: 100vh;
}

/* CRT scanlines overlay */
.crt-overlay::after {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  background: repeating-linear-gradient(
    to bottom,
    rgba(255, 255, 255, 0.06) 0px,
    rgba(255, 255, 255, 0.06) 1px,
    transparent 2px,
    transparent 4px
  );
  mix-blend-mode: overlay;
  opacity: 0.08;
}

/* ===================== */
/* 🖼️ 复古阴影 */
/* ===================== */
.pixel-shadow {
  box-shadow: 2px 2px 0 rgba(0, 0, 0, 0.35);
}

.retro-title {
  letter-spacing: 1px;
  text-shadow: 0 2px 0 rgba(0, 0, 0, 0.35);
}

/* ===================== */
/* 🎮 NES.css 按钮优化 */
/* ===================== */
.nes-btn:active {
  transform: translateY(1px);
}

/* 确保 NES 组件也用复古字体 */
.nes-container,
.nes-btn,
.nes-badge,
.nes-balloon,
.nes-list,
.nes-text,
.nes-field,
.nes-input {
  font-family: "PressStart2P", "Zpix", var(--font-geist-sans), Arial, sans-serif !important;
}

/* ===================== */
/* 🕹️ 复古 Header */
/* ===================== */
.retro-header {
  position: sticky;
  top: 0;
  z-index: 20;
  border-bottom: 2px solid #0e1116;
  background: linear-gradient(#1b2533, #131a24),
    repeating-linear-gradient(
      0deg,
      rgba(255, 255, 255, 0.06) 0 1px,
      transparent 1px 3px
    );
  box-shadow: 0 2px 0 rgba(0, 0, 0, 0.6);
}

.retro-brand {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  color: #f5f9ff;
  text-decoration: none;
}

.retro-brand .brand-text {
  font-family: "PressStart2P", "Zpix", monospace;
  letter-spacing: 1px;
  text-shadow: 0 2px 0 rgba(0, 0, 0, 0.5);
}

.retro-nav {
  display: flex;
  align-items: center;
  gap: 10px;
}

.nav-link {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 10px;
  color: #0d1117;
  text-decoration: none;
  background: linear-gradient(#ffd75e, #ffbf3f),
    repeating-linear-gradient(
      90deg,
      rgba(0, 0, 0, 0.06) 0 1px,
      transparent 1px 3px
    );
  border: 2px solid #0a0f14;
  border-radius: 8px;
  box-shadow: 2px 2px 0 rgba(0, 0, 0, 0.6);
  transition: transform 0.06s;
}

.nav-link:hover {
  transform: translate(-1px, -1px);
  box-shadow: 3px 3px 0 rgba(0, 0, 0, 0.7);
}

.nav-link--primary {
  background: linear-gradient(#7cf0ff, #43c3ff),
    repeating-linear-gradient(
      90deg,
      rgba(0, 0, 0, 0.06) 0 1px,
      transparent 1px 3px
    );
}

.nav-dot {
  width: 6px;
  height: 6px;
  background: #ff6b6b;
  box-shadow: 2px 2px 0 rgba(0, 0, 0, 0.6);
}

.pixel-icons i {
  image-rendering: pixelated;
}

.pixel-rounded {
  clip-path: polygon(
    0 6px,
    6px 6px,
    6px 0,
    calc(100% - 6px) 0,
    calc(100% - 6px) 6px,
    100% 6px,
    100% calc(100% - 6px),
    calc(100% - 6px) calc(100% - 6px),
    calc(100% - 6px) 100%,
    6px 100%,
    6px calc(100% - 6px),
    0 calc(100% - 6px)
  );
}
